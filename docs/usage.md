# Руководство Пользователя

## Установка

1. **Предварительные требования**:
   - Python 3.10+
   - `pip`
   - Ключ OpenAI API

2. **Настройка**:
   ```bash
   git clone <repo_url>
   cd text_editor_agent
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   cp .env.example .env
   # Отредактируйте .env и вставьте ваш API ключ
   ```

## Веб-Интерфейс (Streamlit)

Самый удобный способ работы с агентом.

```bash
streamlit run ui/streamlit_app.py
```

Откроется браузер (обычно http://localhost:8501).
В интерфейсе вы можете:
- Выбрать режим (**Configuration** sidebar).
- Указать параметры стиля и аудитории.
- Видеть пошаговый процесс улучшения текста (**Show Iteration Trace**).

## Использование CLI

Приложение запускается через модуль `app.main`.


### Режимы работы

#### 1. Генерация нового текста (`generate`)
Создает текст с нуля по описанию.

```bash
python -m app.main --mode generate --task "Напиши официальное письмо об отпуске"
```

#### 2. Редактирование текста (`revise`)
Улучшает существующий текст из файла.

```bash
python -m app.main --mode revise --task "Сделай текст более вежливым" --text-file draft.txt
```

### Дополнительные аргументы

| Аргумент | Описание | Значение по умолчанию |
|----------|----------|-----------------------|
| `--max-iterations` | Максимальное количество циклов правки | 3 |
| `--report` | Путь к файлу отчета (JSON) | `report.json` |
| `--verbose` | Вывод подробного лога в консоль | отключено |

### Примеры

**Глубокая проработка (до 5 итераций) с подробным выводом:**
```bash
python -m app.main --mode generate --task "Эссе про ИИ" --max-iterations 5 --verbose
```

**Быстрое исправление грамматики:**
```bash
python -m app.main --mode revise --task "Исправь ошибки" --text-file note.txt --max-iterations 1
```

## Интерпретация Результатов

По завершению работы, программа выведет:
1. **FINAL TEXT**: Итоговый вариант текста.
2. **report.json**: Файл с историей всех изменений. Вы можете изучить его, чтобы увидеть, как менялся текст от черновика к финалу.
